name = "toran-proxy"
main = "src/entry-cloudflare.ts"
compatibility_date = "2024-01-01"

[vars]
# Set your proxy config as JSON string here or use wrangler secret
# PROXY_CONFIG = '{"upstreams": {...}}'

# For MongoDB Atlas Data API
# MONGODB_DATA_API_URL = "https://data.mongodb-api.com/app/data-xxx/endpoint/data/v1"
# MONGODB_DATABASE = "toran_proxy"

# For Upstash Redis
# UPSTASH_REDIS_URL = "https://xxx.upstash.io"

# Use secrets for sensitive values:
# wrangler secret put MONGODB_DATA_API_KEY
# wrangler secret put UPSTASH_REDIS_TOKEN
# wrangler secret put PROXY_CONFIG

[build]
command = "npm run build"

# Optional: Enable node compatibility for some npm packages
# node_compat = true
